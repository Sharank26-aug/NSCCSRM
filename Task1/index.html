<!DOCTYPE html>
<html>
<head>
    <title>Simple Signup Form</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
        }
        input {
            display: block;
            margin: 10px 0;
            padding: 8px;
            width: 300px;
        }
        table {
            margin-top: 20px;
            border-collapse: collapse;
            width: 80%;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        button {
            padding: 5px 10px;
        }
    </style>
</head>
<body>

    <h1>Signup Form</h1>

    <!-- Signup form -->
    <form id="signupForm">
        <input type="text" id="username" placeholder="Enter Username" required>
        <input type="email" id="email" placeholder="Enter Email" required>
        <input type="password" id="password" placeholder="Enter Password (min 6 characters)" required>
        <button type="submit">Signup</button>
    </form>

    <h2>User Dashboard</h2>

    <!-- Table to show registered users -->
    <table>
        <thead>
            <tr>
                <th>Username</th>
                <th>Email</th>
                <th>Password (Hashed)</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody id="userList">
            <!-- Users will appear here -->
        </tbody>
    </table>

    <script>
        // Load users from localStorage or start with empty array
        let users = JSON.parse(localStorage.getItem('users')) || [];

        const form = document.getElementById('signupForm');
        const userList = document.getElementById('userList');

        // Simple hash function for demonstration
        function simpleHash(str) {
            let hash = 0;
            for (let i = 0; i < str.length; i++) {
                hash += str.charCodeAt(i);
            }
            return hash;
        }

        // Show users in the table
        function showUsers() {
            userList.innerHTML = '';
            users.forEach((user, index) => {
                userList.innerHTML += `
                    <tr>
                        <td>${user.username}</td>
                        <td>${user.email}</td>
                        <td>${user.hashedPassword}</td>
                        <td><button onclick="deleteUser(${index})">Delete</button></td>
                    </tr>
                `;
            });
        }

        // Delete user function
        function deleteUser(index) {
            users.splice(index, 1);  // Remove user from array
            localStorage.setItem('users', JSON.stringify(users));  // Update storage
            showUsers();  // Refresh table
        }

        // Run when form is submitted
        form.addEventListener('submit', function(event) {
            event.preventDefault();  // Prevent form from reloading page

            const username = document.getElementById('username').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();

            // Basic validations
            if (username === '') {
                alert('Please enter a username');
                return;
            }

            // Simple email pattern check
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(email)) {
                alert('Please enter a valid email');
                return;
            }

            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }

            const hashedPassword = simpleHash(password);

            // Save user in array
            users.push({
                username: username,
                email: email,
                hashedPassword: hashedPassword
            });

            // Save to localStorage
            localStorage.setItem('users', JSON.stringify(users));

            // Show updated list
            showUsers();

            // Reset the form
            form.reset();
        });

        // Show users when page loads
        showUsers();
    </script>

</body>
</html>